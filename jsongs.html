<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>JSONGS</title>
	<script   src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>
  <link rel="stylesheet" href="jsongs.css">
	

</head>

<body>
	
	<h1> JSON Songs</h1>
	
	<form>
		  <label for = "genre"> Choose a genre: </label>
		      <select name = "genre" id = "genre">
				       <option value = "Rap"> Rap </option>
							 <option value = "Pop"> Pop </option>
							 <option value = "R and B"> R and B </option>
							 <option value = "Indie"> Indie </option>
			     <select>
					 <br><br>
					 <input type = "button" value = "Filter" onclick= "getSongs()" class = "button"> <br><br>
	</form>
	
	
	
	<div class = "chosensongs" id = "chosensongs">
		
	</div>
	<br>
	<div class = "JSONstring" id = "JSONstring">
		
	</div>
	
	<div class = "songs" id = "songs">
	
	</songs>
	
	<script language="javascript">
	$.get( "https://eddy012.github.io/HW9/songs.json", 
			function( data ) {
			str = JSON.stringify(data);
			document.getElementById("JSONstring").innerHTML = "String of songs<br/>" +  str +"<br/><br/><br/>";
			
			JSONstr = JSON.parse(str);
			var songstr = "Song List: " + "<br/>";
			for ( var i = 0; i < 10; i++){
				songstr = songstr + JSONstr[i]["Song Name"] + "<br/>";
				songstr = songstr + "Year Released: " + JSONstr[i]["Year Released"] + "<br/>";
				songstr = songstr + "Artist(s): " + JSONstr[i]["Artist(s)"] + "<br/>";
				songstr = songstr + "Genre(s): " + JSONstr[i]["Genre(s)"] + "<br/><br/>";	
						
			}
			document.getElementById("songs").innerHTML = songstr;	
	})
	function getSongs(){
		var index = document.getElementById("genre").selectedIndex;
		var val = document.getElementById("genre").options[index].value;
		var filteredSongs = "Filtered Songs: " + "<br/>";
		
		for (var i = 0; i < 10; i++){
			  if (val == JSONstr[i]["Genre(s)"]) {
					filteredSongs = filteredSongs + JSONstr[i]["Song Name"] + "<br/>";
				}
		}
		document.getElementById("chosensongs").innerHTML = filteredSongs;
	} 
</script>

</body>
</html>
